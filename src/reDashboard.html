<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <title>fantasy.dashboard</title>
      <link rel="stylesheet" href="reDashboard.css">
      <!-- Syntax Highlighting -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/lua.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
      
      <!-- FC2 Dashboard JavaScript Modules -->
      <script src="js/core.js"></script>        <!-- Foundation & API -->
      <script src="js/modules.js"></script>     <!-- Feature modules -->
      <script src="js/components.js"></script>  <!-- UI components -->
      <script src="js/utils.js"></script>       <!-- Utilities & advanced features -->
      <script src="js/main.js"></script>        <!-- Initialization & orchestration -->
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <!-- Header buttons in top-right corner -->
        <div class="header-buttons">
          <div style="position: relative;">
            <button class="omega-button" id="omegaButton" onclick="app.showOmegaModal()"> ğŸ’¾ Download Omega </button>
            <div class="omega-info" id="omegaInfo"> Latest Version â€¢ Last Updated: Recently </div>
          </div>
          <button class="roll-button" id="rollButton" onclick="app.rollLoot()"> ğŸ² Roll Loot </button>
          <button class="settings-button" id="settingsButton" onclick="app.showSettingsModal()"> âš™ï¸ Settings </button>
        </div>
        <h1> fantasy.dashboard <span class="version-badge">v1.4.10</span>
        </h1>
        <div class="login-section" id="loginSection" style="display: none;">
          <input type="password" class="api-key-input" id="apiKey" placeholder="Enter your FC2 license key...">
          <button class="btn" onclick="app.connect()">ğŸš€ Connect</button>
          <div style="display: flex; align-items: center; gap: 8px; margin-left: 10px;">
            <input type="checkbox" id="rememberMe" style="width: 18px; height: 18px;">
            <label for="rememberMe" style="color: #ccc; font-size: 14px; cursor: pointer;">Remember me</label>
          </div>
          <button class="btn btn-small" onclick="app.toggleAdvanced()" style="margin-left: 10px; background: linear-gradient(135deg, #666, #555);">âš™ï¸ Advanced</button>
        </div>
        <!-- Advanced Login Section -->
        <div class="advanced-login" id="advancedLogin" style="display: none; margin-top: 15px; padding: 20px; background: rgba(255, 255, 255, 0.02); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px;">
          <h3 style="color: #4a9eff; margin-bottom: 15px; font-size: 16px;">ğŸ”§ Advanced Login</h3>
          <p style="color: #aaa; font-size: 14px; margin-bottom: 15px;"> If you already have a handshake token, you can enter it directly below to skip the authorization step. </p>
          <div style="display: flex; gap: 10px; align-items: center;">
            <input type="password" class="api-key-input" id="handshakeToken" placeholder="Enter handshake token directly..." style="flex: 1;">
            <button class="btn" onclick="app.connectWithHandshake()">ğŸ”‘ Connect with Token</button>
          </div>
          <div style="margin-top: 10px; font-size: 12px; color: #888;"> âš ï¸ <strong>Note:</strong> Handshake tokens are browser and IP-locked. Only use tokens generated on this device. </div>
          <!-- Add handshake management section -->
          <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
            <h4 style="color: #ff8c00; margin-bottom: 10px; font-size: 14px;">ğŸ—‘ï¸ Session Management</h4>
            <p style="color: #aaa; font-size: 13px; margin-bottom: 15px; line-height: 1.4;"> If you're having session issues or want to force logout from all devices, you can wipe your handshake token. <strong>This requires your license key and will log you out from all devices.</strong>
            </p>
            <div style="display: flex; gap: 10px; align-items: center;">
              <input type="password" class="api-key-input" id="wipeHandshakeKey" placeholder="Enter license key to wipe handshake..." style="flex: 1;">
              <button class="btn btn-danger" onclick="app.wipeHandshake()" style="background: linear-gradient(135deg, #ff4444, #cc0000); white-space: nowrap;"> ğŸ—‘ï¸ Wipe Handshake </button>
            </div>
            <div style="margin-top: 8px; font-size: 11px; color: #ff8c00;"> âš ï¸ This will destroy your session token and log you out from all devices immediately. </div>
          </div>
        </div>
        <div class="connected-info" id="connectedInfo">
          <div class="user-avatar" id="userAvatar">?</div>
          <div>
            <div style="font-weight: 600; color: #fff;" id="connectedUsername">Connected</div>
            <div style="font-size: 14px; color: #aaa;">Level <span id="userLevel">0</span> â€¢ <span id="userXP">0</span> XP </div>
          </div>
          <button class="btn btn-danger btn-small" onclick="app.disconnect()">Disconnect</button>
        </div>
      </div>
      <!-- Navigation -->
      <div class="nav-tabs" id="navTabs">
        <button class="nav-tab active" onclick="app.switchTab('overview')">ğŸ“Š Overview</button>
        <button class="nav-tab" onclick="app.switchTab('scripts')">ğŸ“œ Scripts</button>
        <button class="nav-tab" onclick="app.switchTab('teams')">ğŸ‘¥ Teams</button>
        <button class="nav-tab" onclick="app.switchTab('builds')">ğŸ—ï¸ Builds</button>
        <button class="nav-tab" onclick="app.switchTab('sessions')">ğŸ” Sessions</button>
        <button class="nav-tab" onclick="app.switchTab('perks')">âœ¨ Perks</button>
        <button class="nav-tab" onclick="app.switchTab('config')">âš™ï¸ Configuration</button>
      </div>
      <!-- Content Area -->
      <div class="content-area" id="contentArea">
        <!-- Overview Section -->
        <div class="content-section active" id="overview-section">
          <div class="card">
            <h2>ğŸ‘¤ Member Information</h2>
            <div class="stats-grid" id="memberStats">
              <div class="spinner"></div>
            </div>
          </div>
          <div class="card">
            <h2>ğŸ’» Member's Panel Terminal</h2>
            <div class="terminal-container">
              <div class="terminal-header">
                <div class="terminal-controls">
                  <div class="terminal-dot" style="background: #ff5f57;"></div>
                  <div class="terminal-dot" style="background: #ffbd2e;"></div>
                  <div class="terminal-dot" style="background: #28ca42;"></div>
                </div>
                <div class="terminal-title" id="terminalTitle">FC2 Terminal</div>
              </div>
              <div class="terminal-body">
                <div class="terminal-output" id="terminalOutput">
                  <div class="terminal-welcome" id="terminalWelcome">
                    <div style="color: #4a9eff; font-weight: bold;">FC2 Member's Panel Terminal</div>
                    <div style="color: #888; font-size: 14px;">Type 'help' for available commands</div>
                  </div>
                </div>
                <div class="terminal-input-line">
                  <span class="terminal-prompt" id="terminalPrompt">fc2@constelia:~$</span>
                  <input type="text" class="terminal-input" id="terminalInput" placeholder="Enter command..." autocomplete="off">
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Scripts Section -->
        <div class="content-section" id="scripts-section">
          <div class="card">
            <h2>ğŸš€ My Active Scripts</h2>
            <div class="filter-controls">
              <label style="color: #aaa; font-size: 14px;">Sort by:</label>
              <select class="form-select" id="myScriptSort" style="width: 175px;" onchange="app.sortMyScripts()">
                <option value="name">Name (A-Z)</option>
                <option value="name_desc">Name (Z-A)</option>
                <option value="author">Author</option>
                <option value="updated" selected>Recently Updated</option>
                <option value="software">Software</option>
              </select>
              <button class="btn btn-small" onclick="app.refreshScripts()">ğŸ”„ Refresh</button>
            </div>
            <div class="scripts-grid" id="myScriptsGrid">
              <div class="spinner"></div>
            </div>
          </div>
          <div class="card">
            <h2>ğŸ“š Available Scripts</h2>
            <div class="filter-controls">
              <input type="text" class="form-input" id="scriptSearch" placeholder="Search scripts..." onkeyup="app.filterScripts()" style="width: 300px;">
              <label style="color: #aaa; font-size: 14px;">Sort by:</label>
              <select class="form-select" id="availableScriptSort" style="width: 175px;" onchange="app.handleAvailableSortChange()">
                <option value="name">Name (A-Z)</option>
                <option value="name_desc">Name (Z-A)</option>
                <option value="author">Author</option>
                <option value="updated" selected>Recently Updated</option>
                <option value="software">Software</option>
                <option value="categories">Categories</option>
              </select>
              <button class="btn btn-small" onclick="app.clearAvailableFilters()">ğŸ—‘ï¸ Clear Filters</button>
            </div>
            <!-- Filter Panels -->
            <div id="availableAuthorFilter" class="filter-panel">
              <h4 style="color: #4a9eff; margin-bottom: 15px;">Filter by Author:</h4>
              <div id="authorFilters"></div>
            </div>
            <div id="availableSoftwareFilter" class="filter-panel">
              <h4 style="color: #4a9eff; margin-bottom: 15px;">Filter by Software:</h4>
              <div id="softwareFilters"></div>
            </div>
            <div id="availableCategoryFilter" class="filter-panel">
              <h4 style="color: #4a9eff; margin-bottom: 15px;">Filter by Category:</h4>
              <div id="categoryFilters"></div>
            </div>
            <div class="scripts-grid" id="availableScriptsGrid">
              <div class="spinner"></div>
            </div>
          </div>
        </div>
        <!-- Teams Section -->
        <div class="content-section" id="teams-section">
          <div class="card">
            <h2>ğŸš€ My Active Projects</h2>
            <div class="filter-controls">
              <label style="color: #aaa; font-size: 14px;">Sort by:</label>
              <select class="form-select" id="myProjectSort" style="width: 175px;" onchange="app.sortMyProjects()">
                <option value="name">Name (A-Z)</option>
                <option value="name_desc">Name (Z-A)</option>
                <option value="author">Author</option>
                <option value="updated" selected>Recently Updated</option>
              </select>
              <button class="btn btn-small" onclick="app.refreshProjects()">ğŸ”„ Refresh</button>
            </div>
            <div class="scripts-grid" id="myProjectsGrid">
              <div class="spinner"></div>
            </div>
          </div>
          <div class="card">
            <h2>ğŸ“¦ Available Projects</h2>
            <div class="filter-controls">
              <input type="text" class="form-input" id="projectSearch" placeholder="Search projects..." onkeyup="app.filterProjects()" style="width: 300px;">
              <label style="color: #aaa; font-size: 14px;">Sort by:</label>
              <select class="form-select" id="availableProjectSort" style="width: 175px;" onchange="app.handleAvailableProjectSortChange()">
                <option value="name">Name (A-Z)</option>
                <option value="name_desc">Name (Z-A)</option>
                <option value="author">Author</option>
                <option value="updated" selected>Recently Updated</option>
              </select>
              <button class="btn btn-small" onclick="app.clearAvailableProjectFilters()">ğŸ—‘ï¸ Clear Filters</button>
            </div>
            <!-- Filter Panels for Projects -->
            <div id="availableProjectAuthorFilter" class="filter-panel">
              <h4 style="color: #4a9eff; margin-bottom: 15px;">Filter by Author:</h4>
              <div id="projectAuthorFilters"></div>
            </div>
            <div class="scripts-grid" id="availableProjectsGrid">
              <div class="spinner"></div>
            </div>
          </div>
        </div>
        <!-- Builds Section -->
        <div class="content-section" id="builds-section">
          <div class="card">
            <h2>ğŸš€ My Builds</h2>
            <div class="filter-controls">
              <label style="color: #aaa; font-size: 14px;">Sort by:</label>
              <select class="form-select" id="myBuildSort" style="width: 175px;" onchange="app.sortMyBuilds()">
                <option value="tag">Tag (A-Z)</option>
                <option value="tag_desc">Tag (Z-A)</option>
                <option value="popularity" selected>Popularity</option>
              </select>
              <button class="btn" onclick="app.createBuild()">ğŸ—ï¸ Create New Build</button>
              <button class="btn btn-small" onclick="app.refreshBuilds()">ğŸ”„ Refresh</button>
            </div>
            <div class="scripts-grid" id="myBuildsGrid">
              <div class="spinner"></div>
            </div>
          </div>
          <div class="card">
            <h2>ğŸ“¦ Available Builds</h2>
            <div class="filter-controls">
              <input type="text" class="form-input" id="buildSearch" placeholder="Search builds..." onkeyup="app.filterBuilds()" style="width: 300px;">
              <label style="color: #aaa; font-size: 14px;">Sort by:</label>
              <select class="form-select" id="availableBuildSort" style="width: 175px;" onchange="app.handleAvailableBuildSortChange()">
                <option value="tag">Tag (A-Z)</option>
                <option value="tag_desc">Tag (Z-A)</option>
                <option value="author">Author</option>
                <option value="popularity" selected>Popularity</option>
              </select>
              <button class="btn btn-small" onclick="app.clearAvailableBuildFilters()">ğŸ—‘ï¸ Clear Filters</button>
            </div>
            <!-- Filter Panels for Builds -->
            <div id="availableBuildAuthorFilter" class="filter-panel">
              <h4 style="color: #4a9eff; margin-bottom: 15px;">Filter by Author:</h4>
              <div id="buildAuthorFilters"></div>
            </div>
            <div class="scripts-grid" id="availableBuildsGrid">
              <div class="spinner"></div>
            </div>
          </div>
        </div>
        <!-- Sessions Section -->
        <div class="content-section" id="sessions-section">
          <div class="card">
            <h2>ğŸ” Current Session Information</h2>
            <div id="currentSessionInfo">
              <div class="spinner"></div>
            </div>
          </div>
          
          <div class="card">
            <h2>ğŸ“Š Session Statistics</h2>
            <div class="stats-grid" id="sessionStats">
              <div class="spinner"></div>
            </div>
          </div>
          
          <div class="card">
            <h2>ğŸ“ˆ Session History</h2>
            <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
              <button class="btn" onclick="app.refreshSessionHistory()">ğŸ”„ Refresh History</button>
              <button class="btn btn-small" onclick="app.loadSessionHistory(true)" style="background: linear-gradient(135deg, #4aff4a, #357abd);">ğŸ“Š Load Detailed History</button>
            </div>
            <div id="sessionHistoryContainer">
              <div class="spinner"></div>
            </div>
          </div>
        </div>
        <!-- Perks Section -->
        <div class="content-section" id="perks-section">
          <div class="card">
            <h2>âœ¨ Perk Management</h2>
            <div class="stats-grid" style="margin-bottom: 30px;">
              <div class="stat-box">
                <div class="stat-label">Available Perk Points</div>
                <div class="stat-value" id="perkPoints">0</div>
              </div>
              <div class="stat-box">
                <div class="stat-label">Total XP</div>
                <div class="stat-value" id="totalXP">0</div>
              </div>
              <div class="stat-box">
                <div class="stat-label">Active Perks</div>
                <div class="stat-value" id="activePerks">0</div>
              </div>
            </div>
            <div style="display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap;">
              <button class="btn" onclick="app.refreshPerks()">ğŸ”„ Refresh Perks</button>
              <button class="btn btn-danger" onclick="app.respecPerks()" title="Costs 3000 XP"> ğŸ’€ Respec All Perks (-3000 XP) </button>
            </div>
          </div>
          <div class="card" id="venusCard" style="display: none;">
            <h2>ğŸ’• Venus Perk - Partnership System</h2>
            <div id="venusStatus" style="margin-bottom: 20px;">
              <div class="spinner"></div>
            </div>
          </div>
          <div class="card">
            <h2>ğŸ›’ Available Perks</h2>
            <div class="filter-controls">
              <input type="text" class="form-input" id="perkSearch" placeholder="Search perks..." onkeyup="app.filterPerks()" style="width: 300px;">
              <label style="color: #aaa; font-size: 14px;">Show:</label>
              <select class="form-select" id="perkFilter" style="width: 150px;" onchange="app.filterPerks()">
                <option value="all">All Perks</option>
                <option value="available">Available</option>
                <option value="owned">Owned</option>
                <option value="affordable">Affordable</option>
              </select>
            </div>
            <div class="scripts-grid" id="perksGrid">
              <div class="spinner"></div>
            </div>
          </div>
        </div>
        <!-- Configuration Section -->
        <div class="content-section" id="config-section">
          <div class="card">
            <h2 style="display: flex; justify-content: space-between; align-items: center;">
              ğŸ“ Script Configuration
              <button class="btn btn-small" onclick="app.generateDefaultConfigs()" title="Generate default configurations for enabled scripts" style="background: linear-gradient(135deg, #4aff4a, #357abd);">ğŸ›ï¸ Generate Defaults</button>
            </h2>
            <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 20px;">
              <select class="form-select" id="scriptConfigSelect" onchange="app.loadScriptConfig()" style="flex: 1;">
                <option value="">Select a software first...</option>
              </select>
              <select class="form-select" id="softwareSelect" onchange="app.onSoftwareChange()" style="width: 200px;">
                <option value="">Select software...</option>
              </select>
              <div style="display: flex; align-items: center; gap: 8px; margin-left: 10px;">
                <div class="toggle-switch" id="autoSaveToggle" onclick="app.toggleAutoSave()" title="Auto-save changes">
                  <div class="toggle-slider"></div>
                </div>
                <label style="color: #ccc; font-size: 14px; cursor: pointer; white-space: nowrap;" onclick="app.toggleAutoSave()">Auto-save</label>
              </div>
              <div style="display: flex; align-items: center; gap: 8px; margin-left: 15px;" id="liveOmegaContainer">
                <div class="toggle-switch live-omega" id="liveOmegaToggle" onclick="app.toggleLiveOmega()" title="Live Omega updates">
                  <div class="toggle-slider"></div>
                </div>
                <label style="color: #ccc; font-size: 14px; cursor: pointer; white-space: nowrap;" onclick="app.toggleLiveOmega()">ğŸš€ Live Omega</label>
              </div>
            </div>
            <div id="scriptConfigEditor" style="display: none;">
              <div class="script-config-form" id="scriptConfigForm">
                <!-- Dynamic form fields will be inserted here -->
              </div>
              <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="btn" onclick="app.saveScriptConfig()">ğŸ’¾ Save Config</button>
                <button class="btn" onclick="app.saveScriptConfig(false, true)" style="background: linear-gradient(135deg, #4aff4a, #357abd);">ğŸš€ Save & Push to Omega</button>
                <button class="btn btn-danger" onclick="app.resetScriptConfig()">ğŸ—‘ï¸ Reset to Default</button>
              </div>
            </div>
          </div>
          <div class="card">
            <h2>ğŸ›ï¸ Configuration Management</h2>
            <div class="config-editor">
              <h3>Current Configuration (Raw JSON)</h3>
              <div class="json-editor" id="configDisplay" contenteditable="true">{}</div>
              <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                <button class="btn" onclick="app.saveConfiguration()">ğŸ’¾ Save Configuration</button>
                <button class="btn" onclick="app.saveConfiguration(true)" style="background: linear-gradient(135deg, #4aff4a, #357abd);">ğŸš€ Save & Push to Omega</button>
                <button class="btn" onclick="app.loadConfiguration()">ğŸ”„ Reload</button>
                <button class="btn" onclick="app.formatJSON()">ğŸ¨ Format JSON</button>
                <button class="btn btn-danger" onclick="app.resetConfiguration()">ğŸ—‘ï¸ Reset</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Cute Attribution Footer -->
    <div style="text-align: center; padding: 20px; color: #666; font-size: 12px; border-top: 1px solid rgba(255, 255, 255, 0.05); margin-top: 30px;">
      <span style="opacity: 0.7;">âœ¨ Lovingly crafted</span>
      <span style="color: #ff6b6b; font-size: 14px; margin: 0 3px;">â™¡</span>
      <span style="opacity: 0.7;">by</span>
      <a href="https://constelia.ai/forums/index.php?members/rucka.17146/" target="_blank" style="color: #4a9eff; font-weight: 600; margin-left: 4px; text-decoration: none; transition: all 0.2s;" onmouseover="this.style.color='#6bb6ff'; this.style.textDecoration='underline';" onmouseout="this.style.color='#4a9eff'; this.style.textDecoration='none';">Rucka</a>
      <span style="opacity: 0.5; margin-left: 8px;">â€¢ Dashboard v1.4.10</span>
    </div>
    <!-- Bottom-Right Notification Container -->
    <div class="notification-container" id="notificationContainer">
      <!-- Dynamic notifications will be inserted here -->
    </div>
    <!-- Roll Result Modal -->
    <div class="roll-result-modal" id="rollResultModal">
      <div class="roll-result-content">
        <div class="roll-result-title">ğŸ² Loot Roll Result</div>
        <div id="rollResultContent">
          <!-- Dynamic content will be inserted here -->
        </div>
        <button class="roll-close-btn" onclick="app.closeRollModal()">Got it!</button>
      </div>
    </div>
    <!-- Omega Download Modal -->
    <div class="omega-modal" id="omegaModal">
      <div class="omega-modal-content">
        <div class="omega-modal-title">ğŸ’¾ Download Omega</div>
        <div class="omega-modal-subtitle"> Choose your operating system to download the latest version of Omega. </div>
        <div class="omega-download-buttons">
          <button class="omega-download-btn windows" onclick="app.downloadOmega('windows')"> ğŸªŸ Windows <span style="font-size: 12px; opacity: 0.8;">(.bat file)</span>
          </button>
          <button class="omega-download-btn linux" onclick="app.downloadOmega('linux')"> ğŸ§ Linux <span style="font-size: 12px; opacity: 0.8;">(.sh file)</span>
          </button>
        </div>
        <button class="omega-close-btn" onclick="app.closeOmegaModal()">Cancel</button>
      </div>
    </div>
    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
      <div class="settings-modal-content">
        <div class="settings-modal-header">
          <div class="settings-modal-title">âš™ï¸ System Settings</div>
          <button class="settings-modal-close" onclick="app.closeSettingsModal()">âœ•</button>
        </div>
        <div class="settings-modal-body">
          <!-- Protection Mode Section -->
          <div class="settings-section">
            <h3>ğŸ›¡ï¸ Protection Mode</h3>
            <div class="settings-field">
              <label class="settings-label">
                FC2 Protection Method 
                <code class="settings-tag">System</code>
              </label>
              <select class="form-select" id="settingsProtectionModeSelect" onchange="app.setProtectionMode()" style="width: 250px;">
                <option value="">Loading...</option>
              </select>
            </div>
            <p class="settings-description">
              Changes the FC2 protection method. Higher protection modes provide better security but may impact performance.
            </p>
          </div>
          <!-- Language Settings Section -->
          <div class="settings-section">
            <h3>ğŸŒ Language Settings</h3>
            <div class="settings-field">
              <label class="settings-label">
                Select Language 
                <code class="settings-tag">FL2</code>
              </label>
              <div style="display: flex; gap: 10px; align-items: center;">
                <select class="form-select" id="settingsLanguageSelect" onchange="app.setLanguage()" style="width: 200px;">
                  <option value="">Loading languages...</option>
                </select>
                <button class="btn btn-small" onclick="app.loadLanguages()" style="background: linear-gradient(135deg, #666, #555);">ğŸ”„ Refresh</button>
              </div>
            </div>
            <p class="settings-description">
              Changes the interface language for fantasy.language2 (FL2) supported applications. 
              <span id="settingsLanguageCount">Loading...</span> languages available. 
              Current: <span id="settingsCurrentLanguageDisplay">English</span>
            </p>
          </div>
          <!-- Caching Settings Section -->
          <div class="settings-section">
              <h3>ğŸ’¾ Caching Settings</h3>
              <div class="settings-field">
                  <label class="settings-label">
                      Enable Data Caching
                      <code class="settings-tag">Performance</code>
                  </label>
                  <div style="display: flex; align-items: center; gap: 15px;">
                      <div class="toggle-switch" id="cachingToggle" onclick="app.toggleCaching()" title="Enable/disable data caching">
                          <div class="toggle-slider"></div>
                      </div>
                      <span id="cachingStatus" style="color: #4aff4a; font-size: 14px;">Enabled</span>
                  </div>
              </div>
              <p class="settings-description">
                  When enabled, configuration metadata and other data will be cached to improve performance. 
                  When disabled, all data is fetched fresh from the API every time.
                  <br><br>
                  <strong>Note:</strong> Fresh data is always loaded when the page first loads, regardless of this setting.
              </p>
              <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px;">
                  <button class="btn btn-small btn-danger" onclick="app.clearAllCaches()">
                      ğŸ—‘ï¸ Clear All Cache
                  </button>
                  <button class="btn btn-small" onclick="app.debugCacheContents()" style="background: linear-gradient(135deg, #666, #555);">
                      ğŸ” Debug Cache
                  </button>
              </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Build Application Modal -->
    <div class="omega-modal" id="buildPreviewModal">
      <div class="omega-modal-content" style="max-width: 800px;">
        <div class="omega-modal-title">ğŸ—ï¸ Apply Build</div>
        <div class="omega-modal-subtitle" id="buildPreviewTitle"> Applying build will overwrite your current configuration and scripts </div>
        <div id="buildPreviewContent" style="max-height: 400px; overflow-y: auto; margin: 20px 0;">
          <!-- Dynamic content will be inserted here -->
        </div>
        <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
          <button class="btn" onclick="app.confirmApplyBuild()" id="confirmApplyBtn"> ğŸš€ Apply Build </button>
          <button class="omega-close-btn" onclick="app.closeBuildPreview()">Cancel</button>
        </div>
      </div>
    </div>
    <!-- Build Details Modal -->
    <div class="script-editor-modal" id="buildDetailsModal">
      <div class="script-editor-content">
        <div class="script-editor-header">
          <div class="script-editor-title"> ğŸ” Build Details <span id="buildDetailsTitle">Loading...</span>
          </div>
          <div class="script-editor-actions">
            <button class="btn" onclick="app.applyBuildFromDetails()" id="applyFromDetailsBtn"> ğŸš€ Apply Build </button>
            <button class="script-editor-close" onclick="app.closeBuildDetails()"> âœ• Close </button>
          </div>
        </div>
        <div class="script-editor-body">
          <div class="script-editor-main" style="padding: 25px; overflow-y: auto;">
            <div id="buildDetailsContent">
              <!-- Dynamic content will be inserted here -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Script Editor Modal -->
    <div class="script-editor-modal" id="scriptEditorModal">
      <div class="script-editor-content">
        <div class="script-editor-loading" id="scriptEditorLoading">
          <div class="spinner"></div>
        </div>
        <div class="script-editor-header">
          <div class="script-editor-title"> âœï¸ Script Editor <div class="draft-indicator" id="draftIndicator">Draft saved</div>
          </div>
          <div class="script-editor-actions">
            <div class="save-indicator" id="saveIndicator"> ğŸ’¾ Saved </div>
            <button class="btn" onclick="app.saveScript()" id="saveScriptBtn"> ğŸ’¾ Save Script </button>
            <button class="script-editor-close" onclick="app.closeScriptEditor()"> âœ• Close </button>
          </div>
        </div>
        <div class="script-editor-body">
          <div class="script-editor-main">
            <div class="code-editor-container">
              <div class="code-editor-toolbar">
                <label style="color: #aaa; font-size: 14px;">Script Content:</label>
                <div style="flex: 1;"></div>
                <span style="color: #888; font-size: 12px;">Language: Lua</span>
              </div>
              <div class="code-editor hljs" id="scriptCodeEditor" contenteditable="true" data-language="lua">-- Enter your Lua script code here...
-- Example:
function onUpdate()
    -- Your code here
end</div>
            </div>
          </div>
          <div class="script-editor-sidebar">
            <!-- Script Info -->
            <div class="sidebar-section">
              <div class="script-info-display" id="scriptInfoDisplay">
                <h4>ğŸ“‹ Script Information</h4>
                <div class="script-info-item">
                  <span class="script-info-label">Name:</span>
                  <span class="script-info-value" id="scriptInfoName">Loading...</span>
                </div>
                <div class="script-info-item">
                  <span class="script-info-label">ID:</span>
                  <span class="script-info-value" id="scriptInfoId">-</span>
                </div>
                <div class="script-info-item">
                  <span class="script-info-label">Author:</span>
                  <span class="script-info-value" id="scriptInfoAuthor">-</span>
                </div>
                <div class="script-info-item">
                  <span class="script-info-label">Software:</span>
                  <span class="script-info-value" id="scriptInfoSoftware">-</span>
                </div>
                <div class="script-info-item">
                  <span class="script-info-label">Last Updated:</span>
                  <span class="script-info-value" id="scriptInfoUpdated">-</span>
                </div>
              </div>
            </div>
            <!-- Update Notes -->
            <div class="sidebar-section">
              <h3>ğŸ“ Update Notes</h3>
              <div class="form-group">
                <label for="updateNotes">Describe your changes (required):</label>
                <textarea id="updateNotes" placeholder="Please describe what you changed in this update. Be specific about new features, bug fixes, or improvements. This helps users understand what's new.

Examples:
- Fixed aim smoothing calculation
- Added new ESP options for better visibility
- Improved performance in crowded servers
- Updated for latest game version"></textarea>
                <div class="char-counter" id="notesCharCounter">0 / 5 minimum</div>
              </div>
            </div>
            <!-- Categories -->
            <div class="sidebar-section">
              <h3>ğŸ·ï¸ Categories</h3>
              <div class="categories-grid" id="categoriesGrid">
                <!-- Dynamic category checkboxes will be inserted here -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Script Source Modal -->
    <div class="script-editor-modal" id="scriptSourceModal">
      <div class="script-editor-content">
        <div class="script-editor-loading" id="scriptSourceLoading">
          <div class="spinner"></div>
        </div>
        <div class="script-editor-header">
          <div class="script-editor-title">
            ğŸ“œ Script Source Code
            <span id="scriptSourceTitle">Loading...</span>
          </div>
          <div class="script-editor-actions">
            <button class="btn btn-small" onclick="app.copySourceToClipboard()" id="copySourceBtn">
              ğŸ“‹ Copy to Clipboard
            </button>
            <button class="script-editor-close" onclick="app.closeScriptSource()">
              âœ• Close
            </button>
          </div>
        </div>
        <div class="script-editor-body">
          <div class="script-editor-main" style="padding: 25px; overflow-y: auto;">
            <div style="margin-bottom: 15px;">
              <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px; padding: 15px; background: rgba(255, 255, 255, 0.05); border-radius: 8px;">
                <div style="flex: 1;">
                  <div style="color: #4a9eff; font-weight: 600; margin-bottom: 5px;" id="sourceScriptName">Script Name</div>
                  <div style="color: #aaa; font-size: 14px;">
                    <span id="sourceScriptAuthor">Author</span> â€¢ 
                    <span id="sourceScriptSoftware">Software</span> â€¢ 
                    <span id="sourceScriptUpdated">Last Updated</span>
                  </div>
                </div>
                <div style="color: #888; font-size: 12px; font-family: 'Consolas', 'Monaco', monospace;" id="sourceScriptLines">
                  Lines: Loading...
                </div>
              </div>
            </div>
            <div style="background: #1e1e1e; border: 2px solid rgba(74, 158, 255, 0.3); border-radius: 12px; padding: 0; overflow: hidden;">
              <div style="background: #2d2d2d; padding: 12px 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); display: flex; justify-content: space-between; align-items: center;">
                <div style="color: #ccc; font-size: 14px; font-weight: 500;">Source Code</div>
                <div style="color: #888; font-size: 12px; font-family: 'Consolas', 'Monaco', monospace;">Lua</div>
              </div>
              <pre id="scriptSourceCode" style="margin: 0; padding: 20px; color: #f8f8f2; font-family: 'Consolas', 'Monaco', 'Courier New', monospace; font-size: 14px; line-height: 1.5; overflow: auto; max-height: 60vh; background: transparent; white-space: pre-wrap; word-wrap: break-word;"></pre>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>